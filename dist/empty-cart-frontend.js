(()=>{"use strict";const e=window.ReactJSXRuntime,{useState:t}=wp.element,{__}=wp.i18n,{useDispatch:r}=wp.data,{subscribe:o,select:a}=wp.data,c=()=>{const[o,a]=t(!1),{invalidateResolutionForStore:c}=r("wc/store/cart");return(0,e.jsx)("button",{className:"button wc-empty-cart",onClick:async()=>{if(!o){a(!0);try{const e=await fetch(wc_cart_fragments_params.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({action:"woo_st_empty_cart",security:woo_st_empty_cart_params.empty_cart_nonce})}),t=await e.json();t.success?c():(console.error("Error:",t),alert(__("Error emptying cart. Please try again.","woocommerce-store-toolkit")))}catch(e){console.error("Fetch error:",e),alert(__("Error emptying cart. Please try again.","woocommerce-store-toolkit"))}finally{a(!1)}}},disabled:o,children:__(o?"Emptying Cart...":"Empty Cart","woocommerce-store-toolkit")})};wp.domReady((()=>{const t=o((()=>{(()=>{const t=document.querySelector(".wp-block-woocommerce-cart-items-block");return!!(t&&t.children.length>0)&&(wp.element.render((0,e.jsx)(c,{}),t.appendChild(document.createElement("div"))),!0)})()&&t()}))}))})();